<!DOCTYPE html>
<html>
<head>
    <title>Image Tagging Gallery</title>
    <style>
        /* Add your CSS styling here */
        .search-container {
            margin-top: 20px;
            text-align: center;
        }
        .image-results {
            margin-top: 30px;
            text-align: center;
        }
    </style>
</head>
<body>

    <h1>Imagenius</h1>

    <div class="search-container">
        <input type="text" id="searchBar" placeholder="Search for tags...">
        <button onclick="searchTags()">Search</button>
    </div>

    <!-- Container to display search results -->
    <div class="image-results" id="imageResults">
        <!-- Images will be appended here -->
    </div>

<script>
function searchTags() {
    // Clear previous search results
    document.getElementById('imageResults').innerHTML = '';

    const query = document.getElementById('searchBar').value;
    fetch(`https://127.0.0.1:6000/search?query=${query}`)
    .then(response => response.json())
    .then(data => {
        // Process and display the search results
        Object.keys(data).forEach(imagePath => {
            const imgElement = document.createElement('img');
            const filename = imagePath.split("/").pop();
            imgElement.src = `https://127.0.0.1:6000/image/${filename}`;
            imgElement.alt = 'Found image';
            imgElement.width = 200;  // Set width for display

            // Append to the results container
            document.getElementById('imageResults').appendChild(imgElement);
        });
    })
    .catch(error => console.error(`Error: ${error}`));
}
</script>

</body>
</html>
